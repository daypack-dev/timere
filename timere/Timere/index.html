<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Timere (timere.Timere)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">timere</a> &#x00BB; Timere</nav><h1>Module <code>Timere</code></h1><nav class="toc"><ul><li><a href="#basic-constructors">Basic constructors</a></li><li><a href="#algebraic-operations">Algebraic operations</a></li><li><a href="#span">Span</a></li><li><a href="#duration">Duration</a></li><li><a href="#time-zone">Time zone</a></li><li><a href="#date-times-and-timestamps">Date times and timestamps</a></li><li><a href="#intervals">Intervals</a><ul><li><a href="#explicit">Explicit</a></li><li><a href="#pattern-matching">Pattern matching</a></li><li><a href="#hour-minute-second-intervals">Hour minute second intervals</a></li></ul></li><li><a href="#chunking">Chunking</a><ul><li><a href="#chunked-selectors">Chunked selectors</a></li></ul></li><li><a href="#infix-operators">Infix operators</a></li><li><a href="#resolution">Resolution</a></li><li><a href="#pretty-printers">Pretty printers</a></li><li><a href="#s-expressions">S-expressions</a></li><li><a href="#misc">Misc</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>This is the core type of Timere used to encode computation over time.</p><p>The following documentation may call value of type <code>t</code> &quot;a Timere object&quot;, or &quot;timere&quot;.</p></dd></dl><dl><dt class="spec exception" id="exception-Invalid_format_string"><a href="#exception-Invalid_format_string" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Invalid_format_string</span> <span class="keyword">of</span> string</code></dt><dd><p>Printing exception</p></dd></dl><dl><dt class="spec type" id="type-tz_offset_s"><a href="#type-tz_offset_s" class="anchor"></a><code><span class="keyword">type</span> tz_offset_s</code><code> = int</code></dt><dt class="spec type" id="type-range"><a href="#type-range" class="anchor"></a><code><span class="keyword">type</span> <span>'a range</span></code> = <code>[ </code><table class="variant"><tr id="type-range.Range_inc" class="anchored"><td class="def constructor"><a href="#type-range.Range_inc" class="anchor"></a><code>| </code><code>`Range_inc <span class="keyword">of</span> <span class="type-var">'a</span> * <span class="type-var">'a</span></code></td></tr><tr id="type-range.Range_exc" class="anchored"><td class="def constructor"><a href="#type-range.Range_exc" class="anchor"></a><code>| </code><code>`Range_exc <span class="keyword">of</span> <span class="type-var">'a</span> * <span class="type-var">'a</span></code></td></tr></table><code> ]</code></dt></dl><section><header><h2 id="basic-constructors"><a href="#basic-constructors" class="anchor"></a>Basic constructors</h2></header><dl><dt class="spec value" id="val-now"><a href="#val-now" class="anchor"></a><code><span class="keyword">val</span> now : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Time right now</p></dd></dl><dl><dt class="spec value" id="val-always"><a href="#val-always" class="anchor"></a><code><span class="keyword">val</span> always : <a href="index.html#type-t">t</a></code></dt><dd><p>Entire interval that Timere can handle, i.e. <code>[0000 Jan 01 14:00:00 +00:00:00, 9999 Dec 31 09:59:58 +00:00:00)</code></p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-t">t</a></code></dt><dd><p>Empty interval</p></dd></dl><dl><dt class="spec value" id="val-years"><a href="#val-years" class="anchor"></a><code><span class="keyword">val</span> years : <span>int list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>years l</code> is a shorthand for <code>pattern ~years:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-year_ranges"><a href="#val-year_ranges" class="anchor"></a><code><span class="keyword">val</span> year_ranges : <span><span>int <a href="index.html#type-range">range</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>year_ranges l</code> is a shorthand for <code>pattern ~year_ranges:l ()</code></p></dd></dl><dl><dt class="spec type" id="type-month"><a href="#type-month" class="anchor"></a><code><span class="keyword">type</span> month</code> = <code>[ </code><table class="variant"><tr id="type-month.Jan" class="anchored"><td class="def constructor"><a href="#type-month.Jan" class="anchor"></a><code>| </code><code>`Jan</code></td></tr><tr id="type-month.Feb" class="anchored"><td class="def constructor"><a href="#type-month.Feb" class="anchor"></a><code>| </code><code>`Feb</code></td></tr><tr id="type-month.Mar" class="anchored"><td class="def constructor"><a href="#type-month.Mar" class="anchor"></a><code>| </code><code>`Mar</code></td></tr><tr id="type-month.Apr" class="anchored"><td class="def constructor"><a href="#type-month.Apr" class="anchor"></a><code>| </code><code>`Apr</code></td></tr><tr id="type-month.May" class="anchored"><td class="def constructor"><a href="#type-month.May" class="anchor"></a><code>| </code><code>`May</code></td></tr><tr id="type-month.Jun" class="anchored"><td class="def constructor"><a href="#type-month.Jun" class="anchor"></a><code>| </code><code>`Jun</code></td></tr><tr id="type-month.Jul" class="anchored"><td class="def constructor"><a href="#type-month.Jul" class="anchor"></a><code>| </code><code>`Jul</code></td></tr><tr id="type-month.Aug" class="anchored"><td class="def constructor"><a href="#type-month.Aug" class="anchor"></a><code>| </code><code>`Aug</code></td></tr><tr id="type-month.Sep" class="anchored"><td class="def constructor"><a href="#type-month.Sep" class="anchor"></a><code>| </code><code>`Sep</code></td></tr><tr id="type-month.Oct" class="anchored"><td class="def constructor"><a href="#type-month.Oct" class="anchor"></a><code>| </code><code>`Oct</code></td></tr><tr id="type-month.Nov" class="anchored"><td class="def constructor"><a href="#type-month.Nov" class="anchor"></a><code>| </code><code>`Nov</code></td></tr><tr id="type-month.Dec" class="anchored"><td class="def constructor"><a href="#type-month.Dec" class="anchor"></a><code>| </code><code>`Dec</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-months"><a href="#val-months" class="anchor"></a><code><span class="keyword">val</span> months : <span><a href="index.html#type-month">month</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>months l</code> is a shorthand for <code>pattern ~months:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-month_ranges"><a href="#val-month_ranges" class="anchor"></a><code><span class="keyword">val</span> month_ranges : <span><span><a href="index.html#type-month">month</a> <a href="index.html#type-range">range</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>month_ranges l</code> is a shorthand for <code>pattern ~month_ranges:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-days"><a href="#val-days" class="anchor"></a><code><span class="keyword">val</span> days : <span>int list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>days l</code> is a shorthand for <code>pattern ~month_days:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-day_ranges"><a href="#val-day_ranges" class="anchor"></a><code><span class="keyword">val</span> day_ranges : <span><span>int <a href="index.html#type-range">range</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>day_ranges l</code> is a shorthand for <code>pattern ~month_day_ranges:l ()</code></p></dd></dl><dl><dt class="spec type" id="type-weekday"><a href="#type-weekday" class="anchor"></a><code><span class="keyword">type</span> weekday</code> = <code>[ </code><table class="variant"><tr id="type-weekday.Sun" class="anchored"><td class="def constructor"><a href="#type-weekday.Sun" class="anchor"></a><code>| </code><code>`Sun</code></td></tr><tr id="type-weekday.Mon" class="anchored"><td class="def constructor"><a href="#type-weekday.Mon" class="anchor"></a><code>| </code><code>`Mon</code></td></tr><tr id="type-weekday.Tue" class="anchored"><td class="def constructor"><a href="#type-weekday.Tue" class="anchor"></a><code>| </code><code>`Tue</code></td></tr><tr id="type-weekday.Wed" class="anchored"><td class="def constructor"><a href="#type-weekday.Wed" class="anchor"></a><code>| </code><code>`Wed</code></td></tr><tr id="type-weekday.Thu" class="anchored"><td class="def constructor"><a href="#type-weekday.Thu" class="anchor"></a><code>| </code><code>`Thu</code></td></tr><tr id="type-weekday.Fri" class="anchored"><td class="def constructor"><a href="#type-weekday.Fri" class="anchor"></a><code>| </code><code>`Fri</code></td></tr><tr id="type-weekday.Sat" class="anchored"><td class="def constructor"><a href="#type-weekday.Sat" class="anchor"></a><code>| </code><code>`Sat</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-weekdays"><a href="#val-weekdays" class="anchor"></a><code><span class="keyword">val</span> weekdays : <span><a href="index.html#type-weekday">weekday</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>weekdays l</code> is a shorthand for <code>pattern ~weekdays:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-weekday_ranges"><a href="#val-weekday_ranges" class="anchor"></a><code><span class="keyword">val</span> weekday_ranges : <span><span><a href="index.html#type-weekday">weekday</a> <a href="index.html#type-range">range</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>weekday_ranges l</code> is a shorthand for <code>pattern ~weekday_ranges:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-hours"><a href="#val-hours" class="anchor"></a><code><span class="keyword">val</span> hours : <span>int list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>hours l</code> is a shorthand for <code>pattern ~hours:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-hour_ranges"><a href="#val-hour_ranges" class="anchor"></a><code><span class="keyword">val</span> hour_ranges : <span><span>int <a href="index.html#type-range">range</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>hour_ranges l</code> is a shorthand for <code>pattern ~hour_ranges:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-minutes"><a href="#val-minutes" class="anchor"></a><code><span class="keyword">val</span> minutes : <span>int list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>minutes l</code> is a shorthand for <code>pattern ~minutes:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-minute_ranges"><a href="#val-minute_ranges" class="anchor"></a><code><span class="keyword">val</span> minute_ranges : <span><span>int <a href="index.html#type-range">range</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>minute_ranges l</code> is a shorthand for <code>pattern ~minute_ranges:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-seconds"><a href="#val-seconds" class="anchor"></a><code><span class="keyword">val</span> seconds : <span>int list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>seconds l</code> is a shorthand for <code>pattern ~seconds:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-second_ranges"><a href="#val-second_ranges" class="anchor"></a><code><span class="keyword">val</span> second_ranges : <span><span>int <a href="index.html#type-range">range</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>second_ranges l</code> is a shorthand for <code>pattern ~second_ranges:l ()</code></p></dd></dl><dl><dt class="spec value" id="val-pattern"><a href="#val-pattern" class="anchor"></a><code><span class="keyword">val</span> pattern : <span>?&#8288;years:<span>int list</span></span> <span>&#45;&gt;</span> <span>?&#8288;year_ranges:<span><span>int <a href="index.html#type-range">range</a></span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;months:<span><a href="index.html#type-month">month</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;month_ranges:<span><span><a href="index.html#type-month">month</a> <a href="index.html#type-range">range</a></span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;days:<span>int list</span></span> <span>&#45;&gt;</span> <span>?&#8288;day_ranges:<span><span>int <a href="index.html#type-range">range</a></span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;weekdays:<span><a href="index.html#type-weekday">weekday</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;weekday_ranges:<span><span><a href="index.html#type-weekday">weekday</a> <a href="index.html#type-range">range</a></span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;hours:<span>int list</span></span> <span>&#45;&gt;</span> <span>?&#8288;hour_ranges:<span><span>int <a href="index.html#type-range">range</a></span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;minutes:<span>int list</span></span> <span>&#45;&gt;</span> <span>?&#8288;minute_ranges:<span><span>int <a href="index.html#type-range">range</a></span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;seconds:<span>int list</span></span> <span>&#45;&gt;</span> <span>?&#8288;second_ranges:<span><span>int <a href="index.html#type-range">range</a></span> list</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Pattern matches over date times.</p><p>A pattern <code>p</code> matches date time <code>dt</code> if</p><pre>(dt.year is in p.years or p.year_ranges)
&amp;&amp; (dt.month is in p.months or p.month_ranges)
&amp;&amp; (dt.month_day is in p.month_days or p.month_day_ranges)
&amp;&amp; (dt.weekday is in p.weekdays or p.weekday_ranges)
&amp;&amp; (dt.hour is in p.hours or p.hour_ranges)
&amp;&amp; (dt.minute is in p.minutes or p.minute_ranges)
&amp;&amp; (dt.second is in p.seconds or p.second_ranges)</pre><p>Empty pattern levels are treated as wildcard, e.g. if <code>p.years</code> and <code>p.year_ranges</code> are both empty, then <code>(dt.year is in p.years or p.year_ranges)</code> is <code>true</code>.</p></dd></dl><dl><dt class="spec value" id="val-nth_weekday_of_month"><a href="#val-nth_weekday_of_month" class="anchor"></a><code><span class="keyword">val</span> nth_weekday_of_month : int <span>&#45;&gt;</span> <a href="index.html#type-weekday">weekday</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>nth_weekday_of_month n wday</code> picks the nth weekday of all months, where <code>1 &lt;= n &amp;&amp; n &lt;= 5</code></p><dl><dt>raises Invalid_argument</dt><dd><p>if <code>n</code> is out of range</p></dd></dl></dd></dl></section><section><header><h2 id="algebraic-operations"><a href="#algebraic-operations" class="anchor"></a>Algebraic operations</h2></header><dl><dt class="spec value" id="val-inter"><a href="#val-inter" class="anchor"></a><code><span class="keyword">val</span> inter : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Intersection of list of timeres.</p><p><code>inter []</code> is equivalent to <code>empty</code>.</p></dd></dl><dl><dt class="spec value" id="val-union"><a href="#val-union" class="anchor"></a><code><span class="keyword">val</span> union : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Union of list of timeres.</p><p><code>union []</code> is equivalent to <code>empty</code>.</p></dd></dl><dl><dt class="spec value" id="val-not"><a href="#val-not" class="anchor"></a><code><span class="keyword">val</span> not : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Negation of timere.</p><p><code>not t</code> is equivalent to all the intervals not included in <code>t</code>.</p></dd></dl></section><section><header><h2 id="span"><a href="#span" class="anchor"></a>Span</h2></header><div class="spec module" id="module-Span"><a href="#module-Span" class="anchor"></a><code><span class="keyword">module</span> <a href="Span/index.html">Span</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h2 id="duration"><a href="#duration" class="anchor"></a>Duration</h2></header><div class="spec module" id="module-Duration"><a href="#module-Duration" class="anchor"></a><code><span class="keyword">module</span> <a href="Duration/index.html">Duration</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-shift"><a href="#val-shift" class="anchor"></a><code><span class="keyword">val</span> shift : <a href="Duration/index.html#type-t">Duration.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-lengthen"><a href="#val-lengthen" class="anchor"></a><code><span class="keyword">val</span> lengthen : <a href="Duration/index.html#type-t">Duration.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl></section><section><header><h2 id="time-zone"><a href="#time-zone" class="anchor"></a>Time zone</h2></header><div class="spec module" id="module-Time_zone"><a href="#module-Time_zone" class="anchor"></a><code><span class="keyword">module</span> <a href="Time_zone/index.html">Time_zone</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-with_tz"><a href="#val-with_tz" class="anchor"></a><code><span class="keyword">val</span> with_tz : <a href="Time_zone/index.html#type-t">Time_zone.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>with_tz tz t</code> changes the time zone to evaluate <code>t</code> in to <code>tz</code></p></dd></dl></section><section><header><h2 id="date-times-and-timestamps"><a href="#date-times-and-timestamps" class="anchor"></a>Date times and timestamps</h2></header><dl><dt class="spec type" id="type-timestamp"><a href="#type-timestamp" class="anchor"></a><code><span class="keyword">type</span> timestamp</code><code> = <a href="Span/index.html#type-t">Span.t</a></code></dt></dl><div class="spec module" id="module-Date_time"><a href="#module-Date_time" class="anchor"></a><code><span class="keyword">module</span> <a href="Date_time/index.html">Date_time</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-date_time"><a href="#val-date_time" class="anchor"></a><code><span class="keyword">val</span> date_time : <a href="Date_time/index.html#type-t">Date_time.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-before"><a href="#val-before" class="anchor"></a><code><span class="keyword">val</span> before : <a href="Date_time/index.html#type-t">Date_time.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-after"><a href="#val-after" class="anchor"></a><code><span class="keyword">val</span> after : <a href="Date_time/index.html#type-t">Date_time.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-date_times"><a href="#val-date_times" class="anchor"></a><code><span class="keyword">val</span> date_times : <span><a href="Date_time/index.html#type-t">Date_time.t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-date_time_seq"><a href="#val-date_time_seq" class="anchor"></a><code><span class="keyword">val</span> date_time_seq : <span><a href="Date_time/index.html#type-t">Date_time.t</a> Stdlib.Seq.t</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-sorted_date_times"><a href="#val-sorted_date_times" class="anchor"></a><code><span class="keyword">val</span> sorted_date_times : <span><a href="Date_time/index.html#type-t">Date_time.t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-sorted_date_time_seq"><a href="#val-sorted_date_time_seq" class="anchor"></a><code><span class="keyword">val</span> sorted_date_time_seq : <span><a href="Date_time/index.html#type-t">Date_time.t</a> Stdlib.Seq.t</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-timestamp_now"><a href="#val-timestamp_now" class="anchor"></a><code><span class="keyword">val</span> timestamp_now : unit <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a></code></dt><dt class="spec value" id="val-timestamp_min"><a href="#val-timestamp_min" class="anchor"></a><code><span class="keyword">val</span> timestamp_min : <a href="index.html#type-timestamp">timestamp</a></code></dt><dt class="spec value" id="val-timestamp_max"><a href="#val-timestamp_max" class="anchor"></a><code><span class="keyword">val</span> timestamp_max : <a href="index.html#type-timestamp">timestamp</a></code></dt></dl><dl><dt class="spec exception" id="exception-Invalid_timestamp"><a href="#exception-Invalid_timestamp" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Invalid_timestamp</span></code></dt></dl><dl><dt class="spec value" id="val-timestamp"><a href="#val-timestamp" class="anchor"></a><code><span class="keyword">val</span> timestamp : <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-before_timestamp"><a href="#val-before_timestamp" class="anchor"></a><code><span class="keyword">val</span> before_timestamp : <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-after_timestamp"><a href="#val-after_timestamp" class="anchor"></a><code><span class="keyword">val</span> after_timestamp : <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-timestamps"><a href="#val-timestamps" class="anchor"></a><code><span class="keyword">val</span> timestamps : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-timestamp">timestamp</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>timestamps l</code></p><p><code>skip_invalid</code> defaults to <code>false</code></p><dl><dt>raises Invalid_timestamp</dt><dd><p>if <code>not skip_invalid</code> and <code>l</code> contains an invalid timestamp</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-timestamp_seq"><a href="#val-timestamp_seq" class="anchor"></a><code><span class="keyword">val</span> timestamp_seq : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-timestamp">timestamp</a> Stdlib.Seq.t</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>timestamps s</code></p><p><code>skip_invalid</code> defaults to <code>false</code></p><dl><dt>raises Invalid_timestamp</dt><dd><p>if <code>not skip_invalid</code> and <code>s</code> contains an invalid timestamp</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-sorted_timestamps"><a href="#val-sorted_timestamps" class="anchor"></a><code><span class="keyword">val</span> sorted_timestamps : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-timestamp">timestamp</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-sorted_timestamp_seq"><a href="#val-sorted_timestamp_seq" class="anchor"></a><code><span class="keyword">val</span> sorted_timestamp_seq : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-timestamp">timestamp</a> Stdlib.Seq.t</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl></section><section><header><h2 id="intervals"><a href="#intervals" class="anchor"></a>Intervals</h2></header><section><header><h3 id="explicit"><a href="#explicit" class="anchor"></a>Explicit</h3></header><dl><dt class="spec exception" id="exception-Interval_is_invalid"><a href="#exception-Interval_is_invalid" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Interval_is_invalid</span></code></dt><dt class="spec exception" id="exception-Intervals_are_not_sorted"><a href="#exception-Intervals_are_not_sorted" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Intervals_are_not_sorted</span></code></dt></dl><dl><dt class="spec type" id="type-interval"><a href="#type-interval" class="anchor"></a><code><span class="keyword">type</span> interval</code><code> = <a href="index.html#type-timestamp">timestamp</a> * <a href="index.html#type-timestamp">timestamp</a></code></dt></dl><dl><dt class="spec value" id="val-intervals"><a href="#val-intervals" class="anchor"></a><code><span class="keyword">val</span> intervals : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-interval">interval</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>intervals l</code></p><p><code>skip_invalid</code> defaults to <code>false</code></p><dl><dt>raises Interval_is_invalid</dt><dd><p>if <code>not skip_invalid</code> and <code>l</code> contains an invalid interval</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-interval_seq"><a href="#val-interval_seq" class="anchor"></a><code><span class="keyword">val</span> interval_seq : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-interval">interval</a> Stdlib.Seq.t</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>interval_seq s</code></p><p><code>skip_invalid</code> defaults to <code>false</code></p><dl><dt>raises Interval_is_invalid</dt><dd><p>if <code>not skip_invalid</code> and <code>s</code> contains an invalid interval</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-sorted_intervals"><a href="#val-sorted_intervals" class="anchor"></a><code><span class="keyword">val</span> sorted_intervals : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-interval">interval</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>sorted_intervals l</code></p><p><code>skip_invalid</code> defaults to <code>false</code></p><dl><dt>raises Interval_is_invalid</dt><dd><p>if <code>not skip_invalid</code> and <code>l</code> contains an invalid interval</p></dd></dl><dl><dt>raises Intervals_are_not_sorted</dt><dd><p>if <code>l</code> is not sorted</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-sorted_interval_seq"><a href="#val-sorted_interval_seq" class="anchor"></a><code><span class="keyword">val</span> sorted_interval_seq : <span>?&#8288;skip_invalid:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-interval">interval</a> Stdlib.Seq.t</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>sorted_interval_seq s</code></p><p><code>skip_invalid</code> defaults to <code>false</code></p><dl><dt>raises Interval_is_invalid</dt><dd><p>if <code>not skip_invalid</code> and <code>s</code> contains an invalid interval</p></dd></dl><dl><dt>raises Intervals_are_not_sorted</dt><dd><p>if <code>s</code> is not sorted</p></dd></dl></dd></dl></section><section><header><h3 id="pattern-matching"><a href="#pattern-matching" class="anchor"></a>Pattern matching</h3></header><aside><p>Pattern matching intervals are designed to handle intervals where start and end points follow some pattern, but cannot be captured by <code>pattern</code> efficiently, e.g. you cannot represent &quot;5:30pm to 6:11pm&quot; via a single <code>pattern</code></p></aside><dl><dt class="spec type" id="type-points"><a href="#type-points" class="anchor"></a><code><span class="keyword">type</span> points</code></dt></dl><dl><dt class="spec value" id="val-make_points"><a href="#val-make_points" class="anchor"></a><code><span class="keyword">val</span> make_points : <span>?&#8288;tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;tz_offset_s:int</span> <span>&#45;&gt;</span> <span>?&#8288;year:int</span> <span>&#45;&gt;</span> <span>?&#8288;month:<a href="index.html#type-month">month</a></span> <span>&#45;&gt;</span> <span>?&#8288;day:int</span> <span>&#45;&gt;</span> <span>?&#8288;weekday:<a href="index.html#type-weekday">weekday</a></span> <span>&#45;&gt;</span> <span>?&#8288;hour:int</span> <span>&#45;&gt;</span> <span>?&#8288;minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><a href="index.html#type-points">points</a> option</span></code></dt><dd><p><code>make_points</code> call must be exactly one of the following forms (ignoring <code>tz</code> and <code>tz_offset_s</code> which are optional in all cases)</p><pre>make_points ~year:_ ~month:_ ~day:_     ~hour:_ ~minute:_ ~second:_ ()
make_points         ~month:_ ~day:_     ~hour:_ ~minute:_ ~second:_ ()
make_points                  ~day:_     ~hour:_ ~minute:_ ~second:_ ()
make_points                  ~weekday:_ ~hour:_ ~minute:_ ~second:_ ()
make_points                             ~hour:_ ~minute:_ ~second:_ ()
make_points                                     ~minute:_ ~second:_ ()
make_points                                               ~second:_ ()</pre><p>returns <code>Error</code> otherwise</p></dd></dl><dl><dt class="spec value" id="val-make_points_exn"><a href="#val-make_points_exn" class="anchor"></a><code><span class="keyword">val</span> make_points_exn : <span>?&#8288;tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;tz_offset_s:int</span> <span>&#45;&gt;</span> <span>?&#8288;year:int</span> <span>&#45;&gt;</span> <span>?&#8288;month:<a href="index.html#type-month">month</a></span> <span>&#45;&gt;</span> <span>?&#8288;day:int</span> <span>&#45;&gt;</span> <span>?&#8288;weekday:<a href="index.html#type-weekday">weekday</a></span> <span>&#45;&gt;</span> <span>?&#8288;hour:int</span> <span>&#45;&gt;</span> <span>?&#8288;minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-points">points</a></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if <code>make_points</code> fails</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-bounded_intervals"><a href="#val-bounded_intervals" class="anchor"></a><code><span class="keyword">val</span> bounded_intervals : <span>[ `Whole <span>| `Snd</span> ]</span> <span>&#45;&gt;</span> <a href="Duration/index.html#type-t">Duration.t</a> <span>&#45;&gt;</span> <a href="index.html#type-points">points</a> <span>&#45;&gt;</span> <a href="index.html#type-points">points</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>bounded_intervals mode bound p1 p2</code> for each point <code>x</code> matched by <code>p1</code>, then for the earliest point <code>y</code> matched by <code>p2</code> such that <code>x &lt; y &amp;&amp; y - x &lt;= bound</code></p><ul><li>if <code>mode = `Whole</code>, yields (x, y)</li><li>if <code>mode = `Snd</code>, yields (y, y + 1)</li></ul><p>Examples:</p><pre><code class="ml">bounded_intervals `Whole (Duration.make ~days:1 ())
  (make_points ~hour:13 ~minute:0 ~second:0 ()) (* p1 *)
  (make_points ~hour:14 ~minute:0 ~second:0 ()) (* p2 *)</code></pre><p>yields all the &quot;1pm to 2pm&quot; intervals, since at each &quot;1pm&quot; mark represented by <code>p1</code>, searching forward up to 24 hour period, we can find a &quot;2pm&quot; mark in <code>p2</code></p><pre><code class="ml">bounded_intervals `Whole (Duration.make ~days:1 ())
  (make_points ~month:`Feb ~day:10 ~hour:13 ~minute:0 ~second:0 ()) (* p1 *)
  (make_points                     ~hour:14 ~minute:0 ~second:0 ()) (* p2 *)</code></pre><p>yields all the &quot;Feb 10th 1pm to 2pm&quot; intervals (or specifically &quot;Feb 10th 1pm to Feb 10th 2pm&quot;)</p><pre><code class="ml">bounded_intervals `Whole (Duration.make ~days:1 ())
  (make_points ~month:`Feb ~day:10 ~hour:23 ~minute:0 ~second:0 ()) (* p1 *)
  (make_points                     ~hour:3  ~minute:0 ~second:0 ()) (* p2 *)</code></pre><p>yields all the &quot;Feb 10th 11pm to 3am&quot; intervals (or specifically &quot;Feb 10th 11pm to Feb 11th 3am&quot;)</p><dl><dt>raises Invalid_argument</dt><dd><p>if precision (number of date time arguments passed to <code>make_points</code> during construction) of <code>p1</code> &lt; precision of <code>p2</code></p><p>For example, <code>make_points_exn ~hour:3 ~minute:0 ~second:0 ()</code> has a lower precision than <code>make_points_exn ~day:10 ~hour:12 ~minute:30 ~second:0 ()</code></p></dd></dl></dd></dl></section><section><header><h3 id="hour-minute-second-intervals"><a href="#hour-minute-second-intervals" class="anchor"></a>Hour minute second intervals</h3></header><aside><p>Convenience wrappers around <code>points</code> and <code>bounded_intervals</code></p></aside><dl><dt class="spec type" id="type-hms"><a href="#type-hms" class="anchor"></a><code><span class="keyword">type</span> hms</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-hms.hour" class="anchored"><td class="def field"><a href="#type-hms.hour" class="anchor"></a><code>hour : int;</code></td></tr><tr id="type-hms.minute" class="anchored"><td class="def field"><a href="#type-hms.minute" class="anchor"></a><code>minute : int;</code></td></tr><tr id="type-hms.second" class="anchored"><td class="def field"><a href="#type-hms.second" class="anchor"></a><code>second : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-make_hms"><a href="#val-make_hms" class="anchor"></a><code><span class="keyword">val</span> make_hms : <span>hour:int</span> <span>&#45;&gt;</span> <span>minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> <span><a href="index.html#type-hms">hms</a> option</span></code></dt><dt class="spec value" id="val-make_hms_exn"><a href="#val-make_hms_exn" class="anchor"></a><code><span class="keyword">val</span> make_hms_exn : <span>hour:int</span> <span>&#45;&gt;</span> <span>minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> <a href="index.html#type-hms">hms</a></code></dt><dt class="spec value" id="val-hms_intervals_inc"><a href="#val-hms_intervals_inc" class="anchor"></a><code><span class="keyword">val</span> hms_intervals_inc : <a href="index.html#type-hms">hms</a> <span>&#45;&gt;</span> <a href="index.html#type-hms">hms</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Same as <code>hms_intervals_exc ...</code> with end point increased by one second</p></dd></dl><dl><dt class="spec value" id="val-hms_intervals_exc"><a href="#val-hms_intervals_exc" class="anchor"></a><code><span class="keyword">val</span> hms_intervals_exc : <a href="index.html#type-hms">hms</a> <span>&#45;&gt;</span> <a href="index.html#type-hms">hms</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Same as <code>bounded_intervals ...</code> with bound fixed to <code>Duration.make ~days:1 ()</code></p></dd></dl><dl><dt class="spec value" id="val-pp_hms"><a href="#val-pp_hms" class="anchor"></a><code><span class="keyword">val</span> pp_hms : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-hms">hms</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-string_of_hms"><a href="#val-string_of_hms" class="anchor"></a><code><span class="keyword">val</span> string_of_hms : <a href="index.html#type-hms">hms</a> <span>&#45;&gt;</span> string</code></dt></dl></section></section><section><header><h2 id="chunking"><a href="#chunking" class="anchor"></a>Chunking</h2></header><dl><dt class="spec type" id="type-chunked"><a href="#type-chunked" class="anchor"></a><code><span class="keyword">type</span> chunked</code></dt><dt class="spec type" id="type-chunking"><a href="#type-chunking" class="anchor"></a><code><span class="keyword">type</span> chunking</code> = <code>[ </code><table class="variant"><tr id="type-chunking.Disjoint_intervals" class="anchored"><td class="def constructor"><a href="#type-chunking.Disjoint_intervals" class="anchor"></a><code>| </code><code>`Disjoint_intervals</code></td></tr><tr id="type-chunking.By_duration" class="anchored"><td class="def constructor"><a href="#type-chunking.By_duration" class="anchor"></a><code>| </code><code>`By_duration <span class="keyword">of</span> <a href="Duration/index.html#type-t">Duration.t</a></code></td></tr><tr id="type-chunking.By_duration_drop_partial" class="anchored"><td class="def constructor"><a href="#type-chunking.By_duration_drop_partial" class="anchor"></a><code>| </code><code>`By_duration_drop_partial <span class="keyword">of</span> <a href="Duration/index.html#type-t">Duration.t</a></code></td></tr><tr id="type-chunking.At_year_boundary" class="anchored"><td class="def constructor"><a href="#type-chunking.At_year_boundary" class="anchor"></a><code>| </code><code>`At_year_boundary</code></td></tr><tr id="type-chunking.At_month_boundary" class="anchored"><td class="def constructor"><a href="#type-chunking.At_month_boundary" class="anchor"></a><code>| </code><code>`At_month_boundary</code></td></tr></table><code> ]</code></dt><dd><p>Ways to chunk/slice time intervals for the selector.</p><ul><li><code>`Disjoint_intervals</code> gives a sequence of disjoint intervals to the selector, specifically they are in ascending order, non-overlapping, non-connecting, and unique</li><li><code>`By_duration</code> slices in the fixed size specified by the duration. Partial chunks (chunks less than the fixed size) are preserved.</li><li><code>`By_duration_drop_partial</code> slices in the fixed size specified by the duration. Partial chunks (chunks less than the fixed size) are discarded.</li><li><code>`At_year_boundary</code> slices at the year boundary (e.g. <code>2021 Jan 1st 00:00:00</code>)</li><li><code>`At_month_boundary</code> slices at the month boundary (e.g. <code>Aug 1st 00:00:00</code>)</li></ul></dd></dl><dl><dt class="spec value" id="val-chunk"><a href="#val-chunk" class="anchor"></a><code><span class="keyword">val</span> chunk : <a href="index.html#type-chunking">chunking</a> <span>&#45;&gt;</span> <span>(<a href="index.html#type-chunked">chunked</a> <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>chunk chunking f t</code> applies <code>chunked</code> selector <code>f</code> on <code>t</code></p></dd></dl><section><header><h3 id="chunked-selectors"><a href="#chunked-selectors" class="anchor"></a>Chunked selectors</h3></header><aside><p>You may find <a href="index.html#val-(%&gt;)"><code>(%&gt;)</code></a> useful for chaining selectors together, e.g. <code>drop 5 %&gt; take 2</code></p></aside><dl><dt class="spec value" id="val-chunk_again"><a href="#val-chunk_again" class="anchor"></a><code><span class="keyword">val</span> chunk_again : <a href="index.html#type-chunking">chunking</a> <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a> <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a></code></dt><dd><p><code>chunk_again chunking f</code> applies <code>chunked</code> selector <code>f</code> as a selector</p></dd></dl><dl><dt class="spec value" id="val-first"><a href="#val-first" class="anchor"></a><code><span class="keyword">val</span> first : <a href="index.html#type-chunked">chunked</a> <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a></code></dt><dd><p>Takes only first chunk</p></dd></dl><dl><dt class="spec value" id="val-take"><a href="#val-take" class="anchor"></a><code><span class="keyword">val</span> take : int <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a> <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a></code></dt><dd><p>Takes n chunks</p></dd></dl><dl><dt class="spec value" id="val-take_nth"><a href="#val-take_nth" class="anchor"></a><code><span class="keyword">val</span> take_nth : int <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a> <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a></code></dt><dd><p>Take every nth chunk, specifically <code>0</code>th, <code>n</code>th, <code>2n</code>th, <code>3n</code>th, ...</p></dd></dl><dl><dt class="spec value" id="val-drop"><a href="#val-drop" class="anchor"></a><code><span class="keyword">val</span> drop : int <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a> <span>&#45;&gt;</span> <a href="index.html#type-chunked">chunked</a></code></dt><dd><p>Discard n chunks</p></dd></dl></section></section><section><header><h2 id="infix-operators"><a href="#infix-operators" class="anchor"></a>Infix operators</h2></header><dl><dt class="spec value" id="val-(&amp;)"><a href="#val-(&amp;)" class="anchor"></a><code><span class="keyword">val</span> (&amp;) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><a href="index.html#val-inter"><code>inter</code></a></p></dd></dl><dl><dt class="spec value" id="val-(|||)"><a href="#val-(|||)" class="anchor"></a><code><span class="keyword">val</span> (|||) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><a href="index.html#val-union"><code>union</code></a></p></dd></dl><dl><dt class="spec value" id="val-(%&gt;)"><a href="#val-(%&gt;)" class="anchor"></a><code><span class="keyword">val</span> (%&gt;) : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt><dd><p>Composition, mainly for chunked selectors</p><p><code>f1 %&gt; f2</code> is equivalent to <code>fun x -&gt; x |&gt; f1 |&gt; f2</code>.</p></dd></dl></section><section><header><h2 id="resolution"><a href="#resolution" class="anchor"></a>Resolution</h2></header><dl><dt class="spec value" id="val-resolve"><a href="#val-resolve" class="anchor"></a><code><span class="keyword">val</span> resolve : <span>?&#8288;search_using_tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(<span><a href="index.html#type-interval">interval</a> Stdlib.Seq.t</span>, string)</span> Stdlib.result</span></code></dt><dd><p>Resolves a Timere object into a concrete interval sequence</p></dd></dl></section><section><header><h2 id="pretty-printers"><a href="#pretty-printers" class="anchor"></a>Pretty printers</h2></header><dl><dt class="spec value" id="val-pp_timestamp"><a href="#val-pp_timestamp" class="anchor"></a><code><span class="keyword">val</span> pp_timestamp : <span>?&#8288;display_using_tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;format:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Pretty printing for timestamp.</p><p>Follows same format string rules and default format string as <a href="Date_time/index.html#val-to_string"><code>Date_time.to_string</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-string_of_timestamp"><a href="#val-string_of_timestamp" class="anchor"></a><code><span class="keyword">val</span> string_of_timestamp : <span>?&#8288;display_using_tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;format:string</span> <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-pp_timestamp_rfc3339"><a href="#val-pp_timestamp_rfc3339" class="anchor"></a><code><span class="keyword">val</span> pp_timestamp_rfc3339 : <span>?&#8288;precision:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>precision</code> determines the number of fractional digits to include</p><dl><dt>raises Invalid_argument</dt><dd><p>if <code>precision &lt; 0</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_timestamp_rfc3339_milli"><a href="#val-pp_timestamp_rfc3339_milli" class="anchor"></a><code><span class="keyword">val</span> pp_timestamp_rfc3339_milli : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_timestamp_rfc3339_micro"><a href="#val-pp_timestamp_rfc3339_micro" class="anchor"></a><code><span class="keyword">val</span> pp_timestamp_rfc3339_micro : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_timestamp_rfc3339_nano"><a href="#val-pp_timestamp_rfc3339_nano" class="anchor"></a><code><span class="keyword">val</span> pp_timestamp_rfc3339_nano : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-rfc3339_of_timestamp"><a href="#val-rfc3339_of_timestamp" class="anchor"></a><code><span class="keyword">val</span> rfc3339_of_timestamp : <span>?&#8288;precision:int</span> <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-rfc3339_milli_of_timestamp"><a href="#val-rfc3339_milli_of_timestamp" class="anchor"></a><code><span class="keyword">val</span> rfc3339_milli_of_timestamp : <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-rfc3339_micro_of_timestamp"><a href="#val-rfc3339_micro_of_timestamp" class="anchor"></a><code><span class="keyword">val</span> rfc3339_micro_of_timestamp : <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-rfc3339_nano_of_timestamp"><a href="#val-rfc3339_nano_of_timestamp" class="anchor"></a><code><span class="keyword">val</span> rfc3339_nano_of_timestamp : <a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-pp_interval"><a href="#val-pp_interval" class="anchor"></a><code><span class="keyword">val</span> pp_interval : <span>?&#8288;display_using_tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;format:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-interval">interval</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Pretty printing for interval.</p><p>Default format string:</p><pre>[{syear} {smon:Xxx} {smday:0X} {shour:0X}:{smin:0X}:{ssec:0X} \
{stzoff-sign}{stzoff-hour:0X}:{stzoff-min:0X}:{stzoff-sec:0X}, {eyear} \
{emon:Xxx} {emday:0X} {ehour:0X}:{emin:0X}:{esec:0X} \
{etzoff-sign}{etzoff-hour:0X}:{etzoff-min:0X}:{etzoff-sec:0X})</pre><p>Follows same format string rules as <a href="Date_time/index.html#val-to_string"><code>Date_time.to_string</code></a>, but tags are prefixed with 's' for &quot;start time&quot;, and 'e' for &quot;end exc time&quot;, e.g. for interval <code>(x, y)</code></p><ul><li><code>{syear}</code> gives year of the <code>x</code></li><li><code>{ehour:cX}</code> gives hour of the <code>y</code></li></ul></dd></dl><dl><dt class="spec value" id="val-string_of_interval"><a href="#val-string_of_interval" class="anchor"></a><code><span class="keyword">val</span> string_of_interval : <span>?&#8288;display_using_tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;format:string</span> <span>&#45;&gt;</span> <a href="index.html#type-interval">interval</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-pp_intervals"><a href="#val-pp_intervals" class="anchor"></a><code><span class="keyword">val</span> pp_intervals : <span>?&#8288;display_using_tz:<a href="Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;format:string</span> <span>&#45;&gt;</span> <span>?&#8288;sep:<span>unit Fmt.t</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> Stdlib.Format.formatter <span>&#45;&gt;</span> <span><a href="index.html#type-interval">interval</a> Stdlib.Seq.t</span> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h2 id="s-expressions"><a href="#s-expressions" class="anchor"></a>S-expressions</h2></header><aside><p>These functions are suitable for debugging, serializing and deserializing timeres.</p><p>The sexp is a precise description of the steps used to construct a timere. As such deserialization is accurate and goes through the exact same construction steps (including validation) as one would using the construction API directly.</p></aside><dl><dt class="spec value" id="val-to_sexp"><a href="#val-to_sexp" class="anchor"></a><code><span class="keyword">val</span> to_sexp : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> CCSexp.t</code></dt><dt class="spec value" id="val-to_sexp_string"><a href="#val-to_sexp_string" class="anchor"></a><code><span class="keyword">val</span> to_sexp_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-of_sexp"><a href="#val-of_sexp" class="anchor"></a><code><span class="keyword">val</span> of_sexp : CCSexp.t <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, string)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-of_sexp_string"><a href="#val-of_sexp_string" class="anchor"></a><code><span class="keyword">val</span> of_sexp_string : string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, string)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-pp_sexp"><a href="#val-pp_sexp" class="anchor"></a><code><span class="keyword">val</span> pp_sexp : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h2 id="misc"><a href="#misc" class="anchor"></a>Misc</h2></header><div class="spec module" id="module-Utils"><a href="#module-Utils" class="anchor"></a><code><span class="keyword">module</span> <a href="Utils/index.html">Utils</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>